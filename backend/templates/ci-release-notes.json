{
  "id": "ci-release-notes",
  "title": "CI: Release Notes Generator",
  "description": "After release, gather merged PRs since last release, generate release notes using LLM and post to changelog.",
  "category": "CI/CD",
  "tags": ["ci","release","notes"],
  "sample_input": {"release_tag":"v1.2.0"},
  "graph": {
    "nodes": [
      {"id":"in","type":"input","position":{"x":0,"y":0},"data":{"label":"Release event"}},
      {"id":"fetch_prs","type":"http","position":{"x":220,"y":0},"data":{"label":"Fetch PRs","config":{"method":"GET","url":"https://git.api/repos/prs?since={{ trigger.last_tag }}"}}},
      {"id":"llm","type":"llm","position":{"x":440,"y":0},"data":{"label":"Generate Notes","config":{"provider":"openai","prompt":"Write release notes from these PRs: {{ node_results.fetch_prs }}"}}},
      {"id":"post_changelog","type":"http","position":{"x":660,"y":0},"data":{"label":"Post Changelog","config":{"method":"POST","url":"https://docs.api/changelog","body":"{{ node_results.llm }}"}}}
    ],
    "edges": [
      {"id":"e1","source":"in","target":"fetch_prs"},
      {"id":"e2","source":"fetch_prs","target":"llm"},
      {"id":"e3","source":"llm","target":"post_changelog"}
    ]
  }
}