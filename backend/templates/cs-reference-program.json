{
  "id": "cs-reference-program",
  "title": "Customer Success: Reference Program",
  "description": "Manage customer reference program invites, track participation and rewards.",
  "category": "Customer Success",
  "tags": ["cs", "references", "program"],
  "sample_input": {"campaign": "ref-2025"},
  "graph": {
    "nodes": [
      {
        "id": "in",
        "type": "input",
        "position": {"x": 0, "y": 0},
        "data": {"label": "Campaign start"}
      },
      {
        "id": "select_customers",
        "type": "http",
        "position": {"x": 220, "y": 0},
        "data": {
          "label": "Select customers",
          "config": {
            "method": "GET",
            "url": "https://cs.api/customers?campaign={{ trigger.campaign }}"
          }
        }
      },
      {
        "id": "invite",
        "type": "http",
        "position": {"x": 440, "y": 0},
        "data": {
          "label": "Send invites",
          "config": {
            "method": "POST",
            "url": "https://email.api/bulk",
            "body": "{{ node_results.select_customers }}"
          }
        }
      },
      {
        "id": "track",
        "type": "http",
        "position": {"x": 660, "y": 0},
        "data": {
          "label": "Track participation",
          "config": {
            "method": "GET",
            "url": "https://cs.api/participation?campaign={{ trigger.campaign }}"
          }
        }
      }
    ],
    "edges": [
      {"id": "e1", "source": "in", "target": "select_customers"},
      {"id": "e2", "source": "select_customers", "target": "invite"},
      {"id": "e3", "source": "invite", "target": "track"}
    ]
  }
}
