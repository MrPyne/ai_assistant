{
  "id": "customer-support-triage",
  "title": "Customer Support Triage (Email -> LLM -> Ticket)",
  "description": "Ingest customer support emails, classify urgency with an LLM, create/augment tickets in the ticketing system, and notify Slack for high-priority items.",
  "category": "Support",
  "tags": ["email","llm","ticket","slack"],
  "note": "Connects to an email webhook or IMAP and integrates with ticketing and Slack. Replace placeholders with provider configs.",
  "sample_input": { "email": { "from": "user@example.com", "subject": "Can't log in", "body": "I get a 500 when trying to log in" } },
  "graph": {
    "nodes": [
      {"id":"in","type":"input","position":{"x":0,"y":0},"data":{"label":"Email Trigger","config":{}}},
      {"id":"classify","type":"llm","position":{"x":220,"y":0},"data":{"label":"LLM - Classify","config":{"model":"gpt","prompt":"Classify the urgency of this support email. Respond with JSON: {\"priority\": \"low|medium|high\", \"category\": \"...\" }\nEmail:\nSubject: {{ input.email.subject }}\nBody:\n{{ input.email.body }}"}}},
      {"id":"create","type":"http","position":{"x":440,"y":0},"data":{"label":"Create Ticket","config":{"method":"POST","url":"https://tickets.internal/api/tickets","body":"{ \"subject\": \"{{ input.email.subject }}\", \"description\": \"{{ input.email.body }}\", \"priority\": \"{{ node_results.classify.priority }}\" }"}}},
      {"id":"notify","type":"webhook","position":{"x":660,"y":0},"data":{"label":"Notify Slack","config":{"url":"https://hooks.slack.com/services/T/XXX/YYY","payload":"{\"text\":\"New high-priority ticket: {{ node_results.create.id }} - {{ input.email.subject }}\"}"}}}
    ],
    "edges": [
      {"id":"e1","source":"in","target":"classify"},
      {"id":"e2","source":"classify","target":"create"},
      {"id":"e3","source":"create","target":"notify","condition":"{{ node_results.classify.priority == 'high' }}"}
    ]
  }
}