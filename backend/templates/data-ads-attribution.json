{
  "id": "data-ads-attribution",
  "title": "Data: Ads Attribution ETL",
  "description": "Ingest ad platform clicks and conversions, attribute revenue and update analytics warehouse.",
  "category": "Data/Analytics",
  "tags": ["data", "etl", "ads"],
  "sample_input": {"start": "2025-07-01", "end": "2025-07-31"},
  "graph": {
    "nodes": [
      {
        "id": "in",
        "type": "input",
        "position": {"x": 0, "y": 0},
        "data": {"label": "Scheduled"}
      },
      {
        "id": "fetch_ads",
        "type": "http",
        "position": {"x": 220, "y": 0},
        "data": {
          "label": "Fetch ad data",
          "config": {
            "method": "GET",
            "url": "https://ads.api/campaigns?start={{ trigger.start }}&end={{ trigger.end }}"
          }
        }
      },
      {
        "id": "transform",
        "type": "action",
        "position": {"x": 440, "y": 0},
        "data": {
          "label": "Transform",
          "config": {
            "language": "python",
            "code": "# transform clicks to attribution rows\\nreturn {\"rows\": []}"
          }
        }
      },
      {
        "id": "load",
        "type": "http",
        "position": {"x": 660, "y": 0},
        "data": {
          "label": "Load to warehouse",
          "config": {
            "method": "POST",
            "url": "https://dw.api/load",
            "body": "{{ node_results.transform }}"
          }
        }
      }
    ],
    "edges": [
      {"id": "e1", "source": "in", "target": "fetch_ads"},
      {"id": "e2", "source": "fetch_ads", "target": "transform"},
      {"id": "e3", "source": "transform", "target": "load"}
    ]
  }
}
