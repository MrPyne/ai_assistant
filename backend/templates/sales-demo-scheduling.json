{
  "id": "sales-demo-scheduling",
  "title": "Sales: Demo Scheduling Assistant",
  "description": "When a lead requests a demo, check rep availability and create a calendar invite; notify the rep and lead via email.",
  "category": "Sales",
  "tags": ["calendar","email","crm"],
  "sample_input": {"lead_id":"L-2000","preferred_times":["2025-10-20T15:00:00Z"]},
  "graph": {"nodes":[{"id":"in","type":"input","position":{"x":0,"y":0},"data":{"label":"Request webhook"}},{"id":"fetch_reps","type":"http","position":{"x":220,"y":0},"data":{"label":"Get Available Reps","config":{"method":"GET","url":"https://internal.api/sales/reps/available"}}},{"id":"choose","type":"action","position":{"x":440,"y":0},"data":{"label":"Choose Rep","config":{"language":"python","code":"reps = json.loads(input.get('body','[]'))\n# pick first available rep\nif not reps: return {'error':'no_reps'}\nrep = reps[0]\nreturn {'rep_id': rep.get('id'),'rep_email': rep.get('email')}"}}},{"id":"create_event","type":"http","position":{"x":660,"y":0},"data":{"label":"Create Calendar Event","config":{"method":"POST","url":"https://calendar.api/events","body":"{\"summary\":\"Demo with {{ trigger.lead_id }}\",\"attendees\":[\"{{ node_results.choose.rep_email }}\",\"{{ node_results.fetch_lead.email }}\"] }"}}},{"id":"fetch_lead","type":"http","position":{"x":220,"y":120},"data":{"label":"Fetch Lead","config":{"method":"GET","url":"https://crm/api/leads/{{ trigger.lead_id }}"}}}],"edges":[{"id":"e1","source":"in","target":"fetch_reps"},{"id":"e2","source":"fetch_reps","target":"choose"},{"id":"e3","source":"choose","target":"create_event"},{"id":"e4","source":"in","target":"fetch_lead"},{"id":"e5","source":"fetch_lead","target":"create_event"}]}
}