:root{
  --bg-1: #0f1724; /* deep navy */
  --bg-2: #071124; /* almost black blue */
  --panel: rgba(255,255,255,0.04);
  --glass: rgba(255,255,255,0.03);
  --muted: #9aa6b2;
  --accent: #6ee7b7; /* teal */
  --accent-2: #7c5cff; /* purple */
  --glass-border: rgba(255,255,255,0.06);
  --glass-blur: 8px;
  --card-radius: 12px;
}

*{box-sizing:border-box}
html,body,#root{height:100%;}
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(124,92,255,0.12), transparent),
              radial-gradient(1000px 500px at 90% 90%, rgba(110,231,183,0.06), transparent),
              linear-gradient(180deg,var(--bg-1),var(--bg-2));
  color: #e6eef6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:0;
}

.app-shell{display:flex;flex-direction:column;height:100%;}
.topbar{display:flex;align-items:center;gap:16px;padding:14px 18px;border-bottom:1px solid rgba(255,255,255,0.03);backdrop-filter: blur(var(--glass-blur));}
.brand{font-weight:700;letter-spacing:0.6px;color:var(--accent-2);margin:0;display:inline-block;position:relative}
/* subtle animated gradient on brand */
.brand{background:linear-gradient(90deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent;animation:brand-glow 3s linear infinite}
@keyframes brand-glow{0%{filter:brightness(0.95)}50%{filter:brightness(1.12)}100%{filter:brightness(0.95)}}

.nav{display:flex;gap:12px;align-items:center}
.nav a{color:var(--muted);text-decoration:none;padding:6px 10px;border-radius:8px}
.nav a:hover{color:var(--accent);background:rgba(255,255,255,0.02)}
.nav .cta{color:var(--bg-2);background:linear-gradient(90deg,var(--accent),var(--accent-2));padding:6px 10px}

/* global buttons used through the app */
button{appearance:none;border:0;cursor:pointer;padding:8px 10px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--accent);font-weight:600;transition:transform .12s ease, box-shadow .18s ease}
button:hover{filter:brightness(1.08);box-shadow:0 4px 18px rgba(124,92,255,0.12)}
button:active{transform:translateY(1px) scale(0.997)}
button.secondary{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.02)}

/* Button utilities matching modern styles */
.btn { padding: 8px 12px; border-radius: 10px; border: none; cursor: pointer; font-weight:600; display:inline-flex; align-items:center; gap:8px }
.btn-ghost { background: transparent; color: var(--muted); border: 1px solid rgba(255,255,255,0.03); padding: 6px 10px; border-radius:8px }

/* subtle pulsing effect for actions in progress */
.btn-busy{animation:busy-pulse 1200ms linear infinite;border-radius:10px}
@keyframes busy-pulse{0%{box-shadow:0 0 0 0 rgba(110,231,183,0.06)}50%{box-shadow:0 6px 30px 6px rgba(110,231,183,0.02)}100%{box-shadow:0 0 0 0 rgba(110,231,183,0.00)}}

input,textarea,select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
textarea{resize:vertical}

.palette-buttons{display:flex;gap:8px;margin-bottom:10px}
.list-scroll{max-height:160px;overflow:auto;border-radius:8px;padding:6px;border:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}

.node-card{padding:8px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);min-width:160px}
.node-card .label{font-weight:700;color:var(--accent)}
.node-card:focus{outline:2px solid rgba(124,92,255,0.12);box-shadow:0 6px 24px rgba(124,92,255,0.08)}
.node-header{display:flex;align-items:center;gap:8px}
.node-icon{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:6px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--accent);} 
.node-icon-http{color:var(--accent-2)}
.node-icon-webhook{color:#ffd166}
.node-icon-llm{color:var(--accent)}

.node-meta{font-size:12px;color:var(--muted);margin-top:6px}

.topbar-left{display:flex;align-items:center;gap:12px}
.brand-link{display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit}
.brand-title{font-weight:700}
.brand-sub{font-size:11px;color:var(--muted)}
.spacer{flex:1}
.nav-inline{display:flex;gap:12px;align-items:center}

.page{padding:20px}
.page-inner{max-width:900px}
.form-vertical{display:flex;flex-direction:column;gap:8px;width:360px}
.form-actions{display:flex;gap:8px}

/* Editor layout */
.editor-root{height:100vh}
.editor-main{display:flex;height:100%;align-items:stretch}
.sidebar{width:320px;padding:16px;border-right:1px solid rgba(255,255,255,0.03);background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);overflow:auto;z-index:3}
.canvas{flex:1;display:flex;flex-direction:column;min-width:0;position:relative;z-index:2}
.rightpanel{width:360px;padding:16px;border-left:1px solid rgba(255,255,255,0.03);background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);overflow:auto;z-index:3}

.reactflow-wrapper{height:100%;background:transparent;position:relative}
/* Ensure the React Flow viewport fills the wrapper and sits above background but below side panels where appropriate */
.reactflow-wrapper .react-flow{height:100%}
.reactflow-wrapper .react-flow__viewport{height:100%}

.section-spacing{margin-top:8px}
.list-item{padding:6px;border-bottom:1px solid rgba(255,255,255,0.02)}
.row{display:flex;gap:12px;align-items:center}
.col{flex:1}
.run-meta{color:var(--muted);font-size:13px}
.mt-6{margin-top:6px}
.mt-8{margin-top:8px}

/* subtle entrance animation for nodes */
.node-card{transform-origin:center;animation:node-appear 360ms ease both}
@keyframes node-appear{from{opacity:0;transform:translateY(6px) scale(0.98)}to{opacity:1;transform:translateY(0) scale(1)}}

.muted{color:var(--muted)}

.runs-list .run-item{padding:8px;border-radius:8px;margin-bottom:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02);animation:run-appear 260ms ease both}
@keyframes run-appear{from{opacity:0;transform:translateX(-6px)}to{opacity:1;transform:translateX(0)}}

.log-entry{padding:8px;border-radius:8px;margin-bottom:8px;background:rgba(0,0,0,0.18);border:1px solid rgba(255,255,255,0.02)}
.log-entry pre{white-space:pre-wrap;margin:0;color:#cfeff3}

/* React Flow container tweaks */
.reactflow-wrapper{height:100%;background:transparent}

/* small screens */
@media(max-width:900px){.sidebar{display:none}.rightpanel{display:none}}